<%- include('../../views/partials/user/header', {title: 'Wallet'}) %>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.29.0/feather.min.js"></script>
    <style>
        body {
            font-family: 'Quantico', sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-shadow {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .transaction-item:hover {
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
        .balance-card {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
        }
    </style>
    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Page Title -->
        <div class="mb-8">
            <h2 class="text-3xl font-bold text-gray-900 mb-2">My Wallet</h2>
            <p class="text-gray-600">Manage your wallet balance and view transaction history</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Wallet Balance Card -->
            <div class="lg:col-span-1">
                <div class="relative rounded-2xl p-8 text-white card-shadow overflow-hidden min-h-[320px]" style="background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);">
                    <!-- Subtle Background Pattern with Shoe Icons -->
                    <div class="absolute inset-0 opacity-10">
                        <svg class="w-full h-full" viewBox="0 0 400 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <g id="shoe-simple">
                                    <!-- Simple clean sneaker silhouette -->
                                    <path d="M5 15 Q3 13 5 11 L20 11 Q22 13 20 15 L18 18 Q16 20 14 18 L6 18 Q4 20 2 18 Z" fill="currentColor" opacity="0.3"/>
                                    <ellipse cx="12" cy="19" rx="10" ry="2" fill="currentColor" opacity="0.2"/>
                                </g>
                            </defs>
                            
                            <!-- Clean scattered shoe icons -->
                            <use href="#shoe-simple" transform="translate(40,30) scale(1.2) rotate(-10)" class="text-yellow-400"/>
                            <use href="#shoe-simple" transform="translate(150,20) scale(0.8) rotate(15)" class="text-yellow-500"/>
                            <use href="#shoe-simple" transform="translate(250,45) scale(1) rotate(-20)" class="text-yellow-400"/>
                            <use href="#shoe-simple" transform="translate(320,25) scale(0.9) rotate(25)" class="text-yellow-600"/>
                            
                            <use href="#shoe-simple" transform="translate(80,90) scale(0.7) rotate(30)" class="text-yellow-500"/>
                            <use href="#shoe-simple" transform="translate(180,85) scale(1.1) rotate(-15)" class="text-yellow-400"/>
                            <use href="#shoe-simple" transform="translate(280,100) scale(0.9) rotate(35)" class="text-yellow-600"/>
                            
                            <use href="#shoe-simple" transform="translate(60,140) scale(1) rotate(-25)" class="text-yellow-400"/>
                            <use href="#shoe-simple" transform="translate(170,150) scale(0.8) rotate(20)" class="text-yellow-500"/>
                            <use href="#shoe-simple" transform="translate(260,135) scale(1.2) rotate(-30)" class="text-yellow-400"/>
                        </svg>
                    </div>
                    
                    <!-- Elegant accent lines -->
                    <div class="absolute top-0 right-0 w-32 h-32 opacity-20">
                        <div class="absolute top-4 right-4 w-20 h-0.5 bg-yellow-400 transform rotate-45"></div>
                        <div class="absolute top-6 right-6 w-16 h-0.5 bg-yellow-500 transform rotate-45"></div>
                        <div class="absolute top-8 right-8 w-12 h-0.5 bg-yellow-600 transform rotate-45"></div>
                    </div>
                    
                    <!-- Card Content -->
                    <div class="relative z-10 h-full flex flex-col justify-between">
                        <div>
                            <div class="flex items-center justify-between mb-8">
                                <div>
                                    <h3 class="text-3xl font-bold tracking-wider text-white">SOLEUS</h3>
                                    <p class="text-gray-300 text-sm mt-2 font-medium tracking-wide">E-WALLET</p>
                                    <p class="text-gray-400 text-xs mt-1 uppercase tracking-wider">AVAILABLE BALANCE</p>
                                </div>
                                <div class="bg-gradient-to-br from-yellow-400 to-yellow-600 w-16 h-12 rounded-lg flex items-center justify-center shadow-lg">
                                    <svg class="w-7 h-7 text-black" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                </div>
                            </div>
                            
                            <div class="mb-8">
                                <p class="text-6xl font-bold mb-2 text-transparent bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text">₹<%= balance %></p>
                                <div class="w-24 h-1 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-full"></div>
                            </div>
                        </div>
                        
                        <div class="flex justify-between items-end">
                            <div>
                                <p class="text-xl font-bold text-white tracking-wide">SOLEUS</p>
                                <p class="text-xs text-gray-400 uppercase tracking-widest">Men's Shoes</p>
                            </div>
                            <div class="text-right">
                                <p class="text-xs text-gray-400 uppercase tracking-wider">Secured by</p>
                                <p class="text-sm font-semibold text-yellow-400">Soleus</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="mt-6 grid grid-cols-2 gap-4">
                    <div class="bg-white rounded-xl p-4 card-shadow">
                        <div class="flex items-center">
                            <div class="bg-green-100 p-2 rounded-lg">
                                <i data-feather="trending-up" class="w-5 h-5 text-green-600"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm text-gray-600">Total Credits</p>
                                <p class="text-lg font-bold text-gray-900">₹5,200</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl p-4 card-shadow">
                        <div class="flex items-center">
                            <div class="bg-red-100 p-2 rounded-lg">
                                <i data-feather="trending-down" class="w-5 h-5 text-red-600"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm text-gray-600">Total Debits</p>
                                <p class="text-lg font-bold text-gray-900">₹2,750</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Transaction History -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-2xl card-shadow">
                    <div class="p-6 border-b border-gray-200">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <h3 class="text-xl font-semibold text-gray-900 mb-4 sm:mb-0">Transaction History</h3>
                            <div class="flex space-x-3">
                                <select class="border border-gray-300 rounded-lg px-3 py-2 text-sm">
                                    <option>All Transactions</option>
                                    <option>Credits</option>
                                    <option>Debits</option>
                                </select>
                                <select class="border border-gray-300 rounded-lg px-3 py-2 text-sm">
                                    <option>Last 30 Days</option>
                                    <option>Last 7 Days</option>
                                    <option>Last Year</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="p-6">
                        <% if (transactions.length > 0) { %>
                        <div class="space-y-4">
                            <!-- Transaction Item -->
                            <div class="transaction-item flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:border-gray-200">
                                <div class="flex items-center">
                                    <div class="bg-green-100 p-2 rounded-lg">
                                        <i data-feather="plus" class="w-5 h-5 text-green-600"></i>
                                    </div>
                                    <div class="ml-4">
                                        <p class="font-semibold text-gray-900">Money Added</p>
                                        <p class="text-sm text-gray-600">Wallet top-up via UPI</p>
                                        <p class="text-xs text-gray-500">June 10, 2025 • 2:30 PM</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-green-600">+₹1,000.00</p>
                                    <p class="text-xs text-gray-500">Completed</p>
                                </div>
                            </div>

                            <!-- Transaction Item -->
                            <div class="transaction-item flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:border-gray-200">
                                <div class="flex items-center">
                                    <div class="bg-red-100 p-2 rounded-lg">
                                        <i data-feather="shopping-bag" class="w-5 h-5 text-red-600"></i>
                                    </div>
                                    <div class="ml-4">
                                        <p class="font-semibold text-gray-900">Order Payment</p>
                                        <p class="text-sm text-gray-600">Nike Air Max 270 - Black</p>
                                        <p class="text-xs text-gray-500">June 9, 2025 • 4:15 PM</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-red-600">-₹12,999.00</p>
                                    <p class="text-xs text-gray-500">Completed</p>
                                </div>
                            </div>

                            <!-- Transaction Item -->
                            <div class="transaction-item flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:border-gray-200">
                                <div class="flex items-center">
                                    <div class="bg-green-100 p-2 rounded-lg">
                                        <i data-feather="rotate-ccw" class="w-5 h-5 text-green-600"></i>
                                    </div>
                                    <div class="ml-4">
                                        <p class="font-semibold text-gray-900">Refund Received</p>
                                        <p class="text-sm text-gray-600">Adidas Ultraboost 22 - White</p>
                                        <p class="text-xs text-gray-500">June 8, 2025 • 10:20 AM</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-green-600">+₹8,499.00</p>
                                    <p class="text-xs text-gray-500">Completed</p>
                                </div>
                            </div>

                            <!-- Transaction Item -->
                            <div class="transaction-item flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:border-gray-200">
                                <div class="flex items-center">
                                    <div class="bg-red-100 p-2 rounded-lg">
                                        <i data-feather="shopping-bag" class="w-5 h-5 text-red-600"></i>
                                    </div>
                                    <div class="ml-4">
                                        <p class="font-semibold text-gray-900">Order Payment</p>
                                        <p class="text-sm text-gray-600">Converse Chuck Taylor All Star</p>
                                        <p class="text-xs text-gray-500">June 7, 2025 • 6:45 PM</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-red-600">-₹3,999.00</p>
                                    <p class="text-xs text-gray-500">Completed</p>
                                </div>
                            </div>

                            <!-- Transaction Item -->
                            <div class="transaction-item flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:border-gray-200">
                                <div class="flex items-center">
                                    <div class="bg-green-100 p-2 rounded-lg">
                                        <i data-feather="plus" class="w-5 h-5 text-green-600"></i>
                                    </div>
                                    <div class="ml-4">
                                        <p class="font-semibold text-gray-900">Money Added</p>
                                        <p class="text-sm text-gray-600">Wallet top-up via Credit Card</p>
                                        <p class="text-xs text-gray-500">June 6, 2025 • 1:10 PM</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-green-600">+₹5,000.00</p>
                                    <p class="text-xs text-gray-500">Completed</p>
                                </div>
                            </div>

                            <!-- Transaction Item -->
                            <div class="transaction-item flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:border-gray-200">
                                <div class="flex items-center">
                                    <div class="bg-blue-100 p-2 rounded-lg">
                                        <i data-feather="gift" class="w-5 h-5 text-blue-600"></i>
                                    </div>
                                    <div class="ml-4">
                                        <p class="font-semibold text-gray-900">Cashback Received</p>
                                        <p class="text-sm text-gray-600">Welcome bonus</p>
                                        <p class="text-xs text-gray-500">June 5, 2025 • 9:00 AM</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-blue-600">+₹500.00</p>
                                    <p class="text-xs text-gray-500">Completed</p>
                                </div>
                            </div>
                        </div>

                        <!-- Load More Button -->
                        <div class="mt-6 text-center">
                            <button class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-3 px-6 rounded-xl transition duration-200">
                                Load More Transactions
                            </button>
                        </div>
                        <% } else { %>
                         <p>no transaction history</p>
                        <% } %> 
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="mt-8">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Quick Actions</h3>
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
                <button class="bg-white p-6 rounded-xl card-shadow hover:shadow-lg transition duration-200 text-center">
                    <div class="bg-yellow-100 w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-3">
                        <i data-feather="download" class="w-6 h-6 text-yellow-600"></i>
                    </div>
                    <p class="font-semibold text-gray-900">Download Statement</p>
                </button>
                <button class="bg-white p-6 rounded-xl card-shadow hover:shadow-lg transition duration-200 text-center">
                    <div class="bg-green-100 w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-3">
                        <i data-feather="help-circle" class="w-6 h-6 text-green-600"></i>
                    </div>
                    <p class="font-semibold text-gray-900">Help & Support</p>
                </button>
            </div>
        </div>
    </main>

    <script>
        // Initialize Feather icons
        feather.replace();

        // Add some interactive functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Add hover effects to transaction items
            const transactionItems = document.querySelectorAll('.transaction-item');
            transactionItems.forEach(item => {
                item.addEventListener('mouseenter', function() {
                    this.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.1)';
                });
                item.addEventListener('mouseleave', function() {
                    this.style.boxShadow = '';
                });
            });

            // Add click functionality to buttons
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    // Add click animation
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
            });
        });
    </script>
<%- include('../../views/partials/user/footer') %>
